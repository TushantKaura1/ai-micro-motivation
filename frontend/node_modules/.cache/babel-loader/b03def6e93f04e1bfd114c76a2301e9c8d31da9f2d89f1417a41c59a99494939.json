{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{Toaster}from'react-hot-toast';import AuthService from'./services/AuthService';import Login from'./components/Login';import Register from'./components/Register';import Dashboard from'./components/Dashboard';import TaskManager from'./components/TaskManager';import NudgeCenter from'./components/NudgeCenter';import Stats from'./components/Stats';import Navigation from'./components/Navigation';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const token=localStorage.getItem('token');if(token){AuthService.getCurrentUser().then(userData=>{setUser(userData);}).catch(()=>{localStorage.removeItem('token');}).finally(()=>{setLoading(false);});}else{setLoading(false);}},[]);const handleLogin=(userData,token)=>{localStorage.setItem('token',token);setUser(userData);};const handleLogout=()=>{localStorage.removeItem('token');setUser(null);};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading your motivation assistant...\"})]});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-center\",toastOptions:{duration:4000,style:{background:'#363636',color:'#fff',borderRadius:'12px'}}}),user?/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(Navigation,{user:user,onLogout:handleLogout}),/*#__PURE__*/_jsx(\"main\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Dashboard,{user:user})}),/*#__PURE__*/_jsx(Route,{path:\"/tasks\",element:/*#__PURE__*/_jsx(TaskManager,{user:user})}),/*#__PURE__*/_jsx(Route,{path:\"/nudges\",element:/*#__PURE__*/_jsx(NudgeCenter,{user:user})}),/*#__PURE__*/_jsx(Route,{path:\"/stats\",element:/*#__PURE__*/_jsx(Stats,{user:user})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})})]}):/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Toaster","AuthService","Login","Register","Dashboard","TaskManager","NudgeCenter","Stats","Navigation","jsx","_jsx","jsxs","_jsxs","App","user","setUser","loading","setLoading","token","localStorage","getItem","getCurrentUser","then","userData","catch","removeItem","finally","handleLogin","setItem","handleLogout","className","children","position","toastOptions","duration","style","background","color","borderRadius","onLogout","path","element","to","replace","onLogin"],"sources":["/Users/tushant/Desktop/Daily MICRO TASK ASSISTANT/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { Toaster } from 'react-hot-toast';\nimport AuthService from './services/AuthService';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Dashboard from './components/Dashboard';\nimport TaskManager from './components/TaskManager';\nimport NudgeCenter from './components/NudgeCenter';\nimport Stats from './components/Stats';\nimport Navigation from './components/Navigation';\nimport './App.css';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      AuthService.getCurrentUser()\n        .then(userData => {\n          setUser(userData);\n        })\n        .catch(() => {\n          localStorage.removeItem('token');\n        })\n        .finally(() => {\n          setLoading(false);\n        });\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  const handleLogin = (userData, token) => {\n    localStorage.setItem('token', token);\n    setUser(userData);\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    setUser(null);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"spinner\"></div>\n        <p>Loading your motivation assistant...</p>\n      </div>\n    );\n  }\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Toaster \n          position=\"top-center\"\n          toastOptions={{\n            duration: 4000,\n            style: {\n              background: '#363636',\n              color: '#fff',\n              borderRadius: '12px',\n            },\n          }}\n        />\n        \n        {user ? (\n          <div className=\"app-container\">\n            <Navigation user={user} onLogout={handleLogout} />\n            <main className=\"main-content\">\n              <Routes>\n                <Route path=\"/\" element={<Dashboard user={user} />} />\n                <Route path=\"/tasks\" element={<TaskManager user={user} />} />\n                <Route path=\"/nudges\" element={<NudgeCenter user={user} />} />\n                <Route path=\"/stats\" element={<Stats user={user} />} />\n                <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n              </Routes>\n            </main>\n          </div>\n        ) : (\n          <Routes>\n            <Route path=\"/login\" element={<Login onLogin={handleLogin} />} />\n            <Route path=\"/register\" element={<Register onLogin={handleLogin} />} />\n            <Route path=\"*\" element={<Navigate to=\"/login\" replace />} />\n          </Routes>\n        )}\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}